Base name = 20230406_11_57_39_CAGE4278729_ANIMAL03_STRAINFOSTRAPXAI9TDTOMATO_SEXMALE_COHORT4_BEHAVIORTMTWATERCONTROL
Looking for images in /athena/listonlab/scratch/dje4001/lightsheet_scratch/WATERCONTROL/lightsheet/raw/20230406_11_57_39_CAGE4278729_ANIMAL03_STRAINFOSTRAPXAI9TDTOMATO_SEXMALE_COHORT4_BEHAVIORTMTWATERCONTROL...
Found 177975 compatible images
Setting up 112 workers...
Pystripe batch processing progress:
  0%|          | 0/177975 [00:00<?, ?it/s]  0%|          | 1/177975 [03:04<9107:20:47, 184.22s/it]  0%|          | 4/177975 [03:05<1743:03:00, 35.26s/it]   0%|          | 5/177975 [03:06<1263:38:58, 25.56s/it]  0%|          | 10/177975 [03:09<441:37:17,  8.93s/it]  0%|          | 113/177975 [05:26<84:18:19,  1.71s/it]  0%|          | 117/177975 [05:35<85:13:06,  1.72s/it]  0%|          | 125/177975 [05:38<77:17:41,  1.56s/it]  0%|          | 126/177975 [05:43<81:01:42,  1.64s/it]  0%|          | 129/177975 [05:45<76:04:16,  1.54s/it]  0%|          | 133/177975 [05:48<71:12:52,  1.44s/it]  0%|          | 139/177975 [05:50<57:42:48,  1.17s/it]  0%|          | 159/177975 [05:55<34:11:10,  1.44it/s]s/pystripe/core.py", line 652, in _read_filter_save
    read_filter_save(**input_dict)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 607, in read_filter_save
    fimg = filter_streaks(img, sigma, level=level, wavelet=wavelet, crossover=crossover, threshold=threshold, flat=flat, dark=dark)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 471, in filter_streaks
    foreground_filtered = filter_subband(foreground, sigma[0], level, wavelet)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 388, in filter_subband
    img_log = np.log(1 + img)
numpy.core._exceptions._ArrayMemoryError: Unable to allocate 24.4 MiB for an array with shape (1600, 2000) and data type float64
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/fs01/dje4001/anaconda3/bin/pystripe", line 8, in <module>
    sys.exit(main())
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 972, in main
    batch_filter(input_path,
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 824, in batch_filter
    list(tqdm.tqdm(pool.imap(_read_filter_save, args, chunksize=chunks), total=len(args), ascii=True))
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/tqdm/std.py", line 1195, in __iter__
    for obj in iterable:
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/multiprocessing/pool.py", line 868, in next
    raise value
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 652, in _read_filter_save
    read_filter_save(**input_dict)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 607, in read_filter_save
    fimg = filter_streaks(img, sigma, level=level, wavelet=wavelet, crossover=crossover, threshold=threshold, flat=flat, dark=dark)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 471, in filter_streaks
    foreground_filtered = filter_subband(foreground, sigma[0], level, wavelet)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 388, in filter_subband
    img_log = np.log(1 + img)
numpy.core._exceptions.MemoryError: Unable to allocate 24.4 MiB for an array with shape (1600, 2000) and data type float64
  0%|          | 225/177975 [07:48<70:18:12,  1.42s/it]  0%|          | 226/177975 [08:08<83:53:44,  1.70s/it]  0%|          | 227/177975 [08:22<96:32:56,  1.96s/it]  0%|          | 235/177975 [08:25<81:31:34,  1.65s/it]  0%|          | 243/177975 [08:26<65:31:13,  1.33s/it]  0%|          | 245/177975 [08:30<68:07:47,  1.38s/it]  0%|          | 256/177975 [08:35<51:37:46,  1.05s/it]  0%|          | 276/177975 [08:37<28:31:52,  1.73it/s]  0%|          | 277/177975 [08:39<31:17:09,  1.58it/s]  0%|          | 287/177975 [08:39<21:20:49,  2.31it/s]  0%|          | 303/177975 [08:40<13:25:44,  3.68it/s]  0%|          | 312/177975 [08:41<11:03:35,  4.46it/s]  0%|          | 315/177975 [08:43<13:38:36,  3.62it/s]  0%|          | 334/177975 [08:44<7:55:26,  6.23it/s]   0%|          | 334/177975 [09:00<7:55:26,  6.23it/s]  0%|          | 337/177975 [10:13<154:49:08,  3.14s/it]  0%|          | 338/177975 [10:25<173:14:42,  3.51s/it]  0%|          | 342/177975 [10:33<158:17:03,  3.21s/it]  0%|          | 344/177975 [10:34<141:44:42,  2.87s/it]  0%|          | 347/177975 [10:39<129:14:26,  2.62s/it]  0%|          | 358/177975 [10:44<72:46:13,  1.47s/it]   0%|          | 361/177975 [10:51<80:56:05,  1.64s/it]