Base name = 20230605_13_04_37_Cage3976687_Animal3_FosTRAP2xAi9Tdtomato_Female_Cohort1_TMTWaterControl
Looking for images in /athena/listonlab/scratch/dje4001/lightsheet_scratch/WATERCONTROL/lightsheet/raw/20230605_13_04_37_Cage3976687_Animal3_FosTRAP2xAi9Tdtomato_Female_Cohort1_TMTWaterControl...
Found 161216 compatible images
Setting up 112 workers...
Pystripe batch processing progress:
  0%|          | 0/161216 [00:00<?, ?it/s]
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 652, in _read_filter_save
    read_filter_save(**input_dict)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 607, in read_filter_save
    fimg = filter_streaks(img, sigma, level=level, wavelet=wavelet, crossover=crossover, threshold=threshold, flat=flat, dark=dark)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 474, in filter_streaks
    fimg = foreground_filtered * f + background_filtered * (1 - f)
numpy.core._exceptions._ArrayMemoryError: Unable to allocate 24.4 MiB for an array with shape (1600, 2000) and data type float64
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/fs01/dje4001/anaconda3/bin/pystripe", line 8, in <module>
    sys.exit(main())
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 972, in main
    batch_filter(input_path,
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 824, in batch_filter
    list(tqdm.tqdm(pool.imap(_read_filter_save, args, chunksize=chunks), total=len(args), ascii=True))
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/tqdm/std.py", line 1195, in __iter__
    for obj in iterable:
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/multiprocessing/pool.py", line 868, in next
    raise value
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 652, in _read_filter_save
    read_filter_save(**input_dict)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 607, in read_filter_save
    fimg = filter_streaks(img, sigma, level=level, wavelet=wavelet, crossover=crossover, threshold=threshold, flat=flat, dark=dark)
  File "/home/fs01/dje4001/anaconda3/lib/python3.8/site-packages/pystripe/core.py", line 474, in filter_streaks
    fimg = foreground_filtered * f + background_filtered * (1 - f)
numpy.core._exceptions.MemoryError: Unable to allocate 24.4 MiB for an array with shape (1600, 2000) and data type float64
  0%|          | 675/161216 [48:04<807:52:30, 18.12s/it]  0%|          | 1/161216 [02:55<7849:01:24, 175.27s/it]  0%|          | 2/161216 [02:59<3342:53:24, 74.65s/it]   0%|          | 3/161216 [02:59<1824:13:13, 40.74s/it]  0%|          | 28/161216 [03:00<106:42:08,  2.38s/it]  0%|          | 28/161216 [03:19<106:42:08,  2.38s/it]  0%|          | 677/161216 [50:48<925:33:18, 20.76s/it]  0%|          | 113/161216 [05:27<82:46:24,  1.85s/it]  0%|          | 116/161216 [05:29<80:07:55,  1.79s/it]  0%|          | 119/161216 [05:33<79:31:50,  1.78s/it]  0%|          | 121/161216 [05:33<75:46:11,  1.69s/it]  0%|          | 125/161216 [05:39<74:08:11,  1.66s/it]  0%|          | 133/161216 [05:41<58:15:56,  1.30s/it]  0%|          | 134/161216 [05:42<56:45:57,  1.27s/it]  0%|          | 136/161216 [05:42<51:58:44,  1.16s/it]  0%|          | 144/161216 [05:43<33:46:50,  1.32it/s]  0%|          | 153/161216 [05:44<22:15:49,  2.01it/s]  0%|          | 164/161216 [05:45<14:59:37,  2.98it/s]  0%|          | 178/161216 [05:45<9:00:15,  4.97it/s]   0%|          | 184/161216 [05:46<7:27:46,  5.99it/s]  0%|          | 195/161216 [05:46<5:29:33,  8.14it/s]  0%|          | 217/161216 [05:47<3:19:40, 13.44it/s]  0%|          | 220/161216 [05:48<4:38:02,  9.65it/s]  0%|          | 220/161216 [05:59<4:38:02,  9.65it/s]  0%|          | 225/161216 [07:33<167:22:44,  3.74s/it]  0%|          | 226/161216 [07:47<190:59:27,  4.27s/it]  0%|          | 227/161216 [08:10<243:06:54,  5.44s/it]  0%|          | 229/161216 [08:13<216:35:09,  4.84s/it]  0%|          | 232/161216 [08:18<178:54:12,  4.00s/it]  0%|          | 234/161216 [08:18<146:52:08,  3.28s/it]  0%|          | 236/161216 [08:23<140:39:27,  3.15s/it]  0%|          | 240/161216 [08:26<99:15:32,  2.22s/it]   0%|          | 246/161216 [08:28<62:27:44,  1.40s/it]  0%|          | 252/161216 [08:32<49:30:00,  1.11s/it]  0%|          | 257/161216 [08:35<39:45:03,  1.12it/s]  0%|          | 258/161216 [08:36<42:46:15,  1.05it/s]  0%|          | 274/161216 [08:37<16:31:51,  2.70it/s]  0%|          | 281/161216 [08:37<12:14:09,  3.65it/s]  0%|          | 286/161216 [08:39<12:49:31,  3.49it/s]  0%|          | 302/161216 [08:41<8:24:41,  5.31it/s]   0%|          | 324/161216 [08:41<5:05:29,  8.78it/s]  0%|          | 324/161216 [08:59<5:05:29,  8.78it/s]  0%|          | 337/161216 [10:12<96:24:46,  2.16s/it]  0%|          | 338/161216 [10:27<114:37:25,  2.56s/it]  0%|          | 339/161216 [10:37<127:33:21,  2.85s/it]  0%|          | 341/161216 [10:48<141:04:12,  3.16s/it]  0%|          | 347/161216 [10:56<114:05:39,  2.55s/it]  0%|          | 356/161216 [10:59<74:10:23,  1.66s/it]   0%|          | 373/161216 [11:01<38:40:43,  1.16it/s]